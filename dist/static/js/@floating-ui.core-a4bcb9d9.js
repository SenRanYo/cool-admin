function L(t){return t.split("-")[1]}function B(t){return t==="y"?"height":"width"}function O(t){return t.split("-")[0]}function T(t){return["top","bottom"].includes(O(t))?"x":"y"}function P(t,e,m){let{reference:n,floating:o}=t;const x=n.x+n.width/2-o.width/2,s=n.y+n.height/2-o.height/2,i=T(e),f=B(i),u=n[f]/2-o[f]/2,c=i==="x";let a;switch(O(e)){case"top":a={x,y:n.y-o.height};break;case"bottom":a={x,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:s};break;case"left":a={x:n.x-o.width,y:s};break;default:a={x:n.x,y:n.y}}switch(L(e)){case"start":a[i]-=u*(m&&c?-1:1);break;case"end":a[i]+=u*(m&&c?-1:1)}return a}const F=async(t,e,m)=>{const{placement:n="bottom",strategy:o="absolute",middleware:x=[],platform:s}=m,i=x.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:a}=P(u,n,f),r=n,l={},d=0;for(let y=0;y<i.length;y++){const{name:h,fn:b}=i[y],{x:p,y:w,data:k,reset:g}=await b({x:c,y:a,initialPlacement:n,placement:r,strategy:o,middlewareData:l,rects:u,platform:s,elements:{reference:t,floating:e}});c=p??c,a=w??a,l={...l,[h]:{...l[h],...k}},g&&d<=50&&(d++,typeof g=="object"&&(g.placement&&(r=g.placement),g.rects&&(u=g.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):g.rects),{x:c,y:a}=P(u,r,f)),y=-1)}return{x:c,y:a,placement:r,strategy:o,middlewareData:l}};function j(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function G(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const C=Math.min,W=Math.max;function q(t,e,m){return W(t,C(e,m))}const I=t=>({name:"arrow",options:t,async fn(e){const{element:m,padding:n=0}=t||{},{x:o,y:x,placement:s,rects:i,platform:f,elements:u}=e;if(m==null)return{};const c=j(n),a={x:o,y:x},r=T(s),l=B(r),d=await f.getDimensions(m),y=r==="y",h=y?"top":"left",b=y?"bottom":"right",p=y?"clientHeight":"clientWidth",w=i.reference[l]+i.reference[r]-a[r]-i.floating[l],k=a[r]-i.reference[r],g=await(f.getOffsetParent==null?void 0:f.getOffsetParent(m));let v=g?g[p]:0;v&&await(f.isElement==null?void 0:f.isElement(g))||(v=u.floating[p]||i.floating[l]);const H=w/2-k/2,R=c[h],D=v-d[l]-c[b],A=v/2-d[l]/2+H,E=q(R,A,D),M=L(s)!=null&&A!=E&&i.reference[l]/2-(A<R?c[h]:c[b])-d[l]/2<0;return{[r]:a[r]-(M?A<R?R-A:D-A:0),data:{[r]:E,centerOffset:A-E}}}}),z=["top","right","bottom","left"];z.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const J=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:m,y:n}=e,o=await async function(x,s){const{placement:i,platform:f,elements:u}=x,c=await(f.isRTL==null?void 0:f.isRTL(u.floating)),a=O(i),r=L(i),l=T(i)==="x",d=["left","top"].includes(a)?-1:1,y=c&&l?-1:1,h=typeof s=="function"?s(x):s;let{mainAxis:b,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return r&&typeof w=="number"&&(p=r==="end"?-1*w:w),l?{x:p*y,y:b*d}:{x:b*d,y:p*y}}(e,t);return{x:m+o.x,y:n+o.y,data:o}}}};export{J as O,G as l,F as r,I as u};
