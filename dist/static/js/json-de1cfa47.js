import{i as _}from"./@vueuse.core-b5ce6112.js";import{n as f,w as h}from"./lodash-es-d00cf236.js";import{a as g}from"./element-plus-aceaa6a8.js";import{d as c,q as v,W as a,o as u,c as y,b as e,J as n,a as x,I as b,E as j,N}from"./@vue.runtime-core-3a9e54b6.js";import{O as S}from"./@vue.shared-9aa0355e.js";import{u as l}from"./@vue.reactivity-747ae439.js";import"./@vueuse.shared-8ce56883.js";import"./chardet-ee49d9b4.js";import"./@vue.runtime-dom-7b7b8a44.js";import"./@element-plus.icons-vue-e3809a99.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-384ef2e5.js";import"./dayjs-98968027.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-a30dd394.js";import"./@floating-ui.core-a4bcb9d9.js";const k={key:0,class:"cl-code-json__wrap"},C={class:"text"},w=c({name:"cl-code-json"}),P=c({...w,props:{modelValue:[String,Object],popover:Boolean,height:{type:[Number,String],default:"100%"},maxHeight:{type:[Number,String],default:300}},setup(i){const t=i,{copy:d}=_(),r=v(()=>{const o=t.modelValue;return f(o)?o:h(o)?JSON.stringify(o,null,4):""}),m=c({setup(o,{slots:s}){function p(){d(r.value),g.success("复制成功")}return()=>e("div",{class:"cl-code-json"},[e("div",{class:"op"},[e(a("el-button"),{type:"success",size:"small",onClick:p},{default:()=>[N("copy")]}),s.op&&s.op()]),e(a("el-scrollbar"),{class:"scrollbar","max-height":t.maxHeight,height:t.height},{default:()=>[e("pre",null,[e("code",null,[r.value])])]})])}});return(o,s)=>{const p=a("el-popover");return i.popover?(u(),y("div",k,[e(p,{width:"400px",placement:"right","popper-class":"cl-code-json__popper"},{reference:n(()=>[x("span",C,S(l(r)),1)]),default:n(()=>[e(l(m))]),_:1})])):(u(),b(l(m),{key:1},{op:n(()=>[j(o.$slots,"op")]),_:3}))}}});export{P as default};
