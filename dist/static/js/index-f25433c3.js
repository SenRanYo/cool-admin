import{u as C,b as G,f as H,i as J}from"./index-e77a39a7.js";import"./store-4dd21bbb.js";import{u as M}from"./index-8d3b4b42.js";import{b as Z,A as q}from"./lodash-es-d00cf236.js";import{d as y,q as D,W as v,o as d,c as $,I as x,J as b,F as V,U as z,N as Q,p as j,b as e,M as P,a,am as E,al as R,x as X,h as O,K as Y,L as ee,$ as te}from"./@vue.runtime-core-3a9e54b6.js";import{u as o,r as oe}from"./@vue.reactivity-747ae439.js";import{O as I,o as F}from"./@vue.shared-9aa0355e.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as ne}from"./logo-5b4cc875.js";import{v as se,w as W,T as ae}from"./@vue.runtime-dom-7b7b8a44.js";import{Z as le,_ as ce,U as re}from"./@element-plus.icons-vue-e3809a99.js";import"./element-plus-aceaa6a8.js";import"./chardet-ee49d9b4.js";import"./@vueuse.core-b5ce6112.js";import"./@vueuse.shared-8ce56883.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-384ef2e5.js";import"./dayjs-98968027.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-a30dd394.js";import"./@floating-ui.core-a4bcb9d9.js";import"./monaco-editor-9ddaeaf3.js";import"./axios-aba6f0e0.js";import"./nprogress-d2c1a460.js";import"./mitt-b509fb6d.js";import"./vue-router-19ed6b98.js";import"./pinia-2b0aea45.js";import"./vue-demi-71ba0ef2.js";import"./vue-echarts-c84fbe77.js";import"./resize-detector-a5205554.js";import"./echarts-90e4e057.js";import"./tslib-54e39b60.js";import"./zrender-5c8f9fce.js";import"./mockjs-5923ee6a.js";import"./vue-1fcee0a5.js";const _e={class:"route-nav"},ie={key:0,class:"title"},pe=y({name:"route-nav"}),ue=y({...pe,setup(_){const{route:u,browser:h}=M(),{menu:n}=C(),i=D(()=>{function p(t){if(u.path==="/")return!1;if(t.path==u.path)return t;if(t.children){const l=t.children.map(p).find(Boolean);return l?[t,l]:!1}else return!1}return Z(n.group.map(p).filter(Boolean))}),m=D(()=>{var p;return(p=q(i.value))==null?void 0:p.name});return(p,t)=>{const l=v("el-breadcrumb-item"),f=v("el-breadcrumb");return d(),$("div",_e,[o(h).isMini?(d(),$("p",ie,I(o(m)),1)):(d(),x(f,{key:1},{default:b(()=>[(d(!0),$(V,null,z(o(i),(c,g)=>(d(),x(l,{key:g},{default:b(()=>{var r;return[Q(I(((r=c.meta)==null?void 0:r.label)||c.name),1)]}),_:2},1024))),128))]),_:1}))])}}});const de=S(ue,[["__scopeId","data-v-0b3d14ae"]]),me={class:"a-menu"},fe={class:"a-menu__name"},he=y({name:"a-menu"}),ve=y({...he,setup(_){const{router:u,route:h}=M(),{menu:n}=C(),i=oe("");function m(t){n.setMenu(t);const l=n.getPath(n.group[t]);u.push(l)}function p(){function t(l,f){switch(l.type){case 0:(l.children||[]).forEach(c=>{t(c,f)});break;case 1:h.path.includes(l.path)&&(i.value=String(f),n.setMenu(f));break}}n.group.forEach(t)}return j(()=>n.group.length,()=>{p()},{immediate:!0}),j(()=>h.path,()=>{p()}),(t,l)=>{const f=v("cl-svg"),c=v("el-menu-item"),g=v("el-menu");return d(),$("div",me,[e(g,{"default-active":i.value,mode:"horizontal","background-color":"transparent",onSelect:m},{default:b(()=>[(d(!0),$(V,null,z(o(n).group,(r,s)=>(d(),x(c,{key:s,index:`${s}`},{default:b(()=>[r.icon?(d(),x(f,{key:0,name:r.icon,size:18},null,8,["name"])):P("",!0),a("span",fe,I(r.name),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])])}}});const be=S(ve,[["__scopeId","data-v-4b807e8a"]]),K=_=>(E("data-v-15a8dd19"),_=_(),R(),_),ye={key:0},$e=K(()=>a("span",null,"Ai",-1)),ge=K(()=>a("span",null,"极速编码",-1)),ke=[$e,ge],we=y({name:"auto-menu"}),xe=y({...we,setup(_){const{router:u,browser:h}=M();function n(){u.push("/magic/ai-code")}return(i,m)=>{const p=v("el-badge");return o(h).isMini?P("",!0):(d(),$("li",ye,[e(p,{"is-dot":""},{default:b(()=>[a("div",{class:"btn",onClick:n},ke)]),_:1})]))}}});const Ce=S(xe,[["__scopeId","data-v-15a8dd19"]]),N=_=>(E("data-v-04069668"),_=_(),R(),_),Me={class:"app-topbar"},Se=N(()=>a("i",{class:"cl-iconfont cl-icon-fold"},null,-1)),Ie=[Se],Ne=N(()=>a("div",{class:"flex1"},null,-1)),Te={class:"app-topbar__tools"},Be={key:0,class:"app-topbar__user"},Pe={class:"el-dropdown-link"},Fe={class:"name"},Ve=N(()=>a("i",{class:"cl-iconfont cl-icon-user"},null,-1)),Ae=N(()=>a("span",null,"个人中心",-1)),De=N(()=>a("i",{class:"cl-iconfont cl-icon-exit"},null,-1)),je=N(()=>a("span",null,"退出",-1)),ze=y({name:"app-topbar"}),Ee=y({...ze,setup(_){const{router:u,service:h}=M(),{user:n,app:i}=C();async function m(p){switch(p){case"my":u.push("/my/info");break;case"exit":await h.base.comm.logout(),n.logout();break}}return(p,t)=>{const l=v("cl-chat"),f=v("cl-theme"),c=v("cl-avatar"),g=v("el-dropdown-item"),r=v("el-dropdown-menu"),s=v("el-dropdown");return d(),$(V,null,[o(i).info.menu.isGroup?(d(),x(be,{key:0})):P("",!0),a("div",Me,[a("div",{class:F(["app-topbar__collapse",{unfold:!o(i).isFold}]),onClick:t[0]||(t[0]=k=>o(i).fold())},Ie,2),e(de),Ne,a("ul",Te,[e(Ce),a("li",null,[e(l)]),a("li",null,[e(f)])]),o(n).info?(d(),$("div",Be,[e(s,{trigger:"click","hide-on-click":"",onCommand:m},{dropdown:b(()=>[e(r,null,{default:b(()=>[e(g,{command:"my"},{default:b(()=>[Ve,Ae]),_:1}),e(g,{command:"exit"},{default:b(()=>[De,je]),_:1})]),_:1})]),default:b(()=>[a("span",Pe,[a("span",Fe,I(o(n).info.nickName),1),e(c,{size:32,src:o(n).info.headImg},null,8,["src"])])]),_:1})])):P("",!0)])],64)}}});const Re=S(Ee,[["__scopeId","data-v-04069668"]]);function Le(_){return typeof _=="function"||Object.prototype.toString.call(_)==="[object Object]"&&!X(_)}const Oe=y({name:"b-menu",setup(){const{router:_,route:u,browser:h}=M(),{menu:n,app:i}=G();function m(t){t!=u.path&&_.push(t),h.isMini&&i.fold(!0)}function p(){function t(l,f){return l.filter(c=>c.isShow).map(c=>{let g=null;const r=s=>e("div",{class:"wrap"},[e(v("cl-svg"),{name:s.icon},null),Y(e("span",null,[s.name]),[[se,!i.isFold||f!=1]])]);return c.type==0?g=O(e(v("el-sub-menu"),null,null),{index:String(c.id),key:c.id,popperClass:"app-slider__menu"},{title(){return r(c)},default(){return t(c.children||[],f+1)}}):g=O(e(v("el-menu-item"),null,null),{index:c.path,key:c.id},{default(){return r(c)}}),g})}return t(n.list,1)}return()=>{let t;return e("div",{class:"app-slider__menu"},[e(v("el-menu"),{"default-active":u.path,"background-color":"transparent","collapse-transition":!0,collapse:h.isMini?!1:i.isFold,onSelect:m},Le(t=p())?t:{default:()=>[t]})])}}}),We={class:"app-slider"},qe=a("img",{src:ne},null,-1),Ke={key:0},Ue={class:"app-slider__container"},Ge=y({name:"app-slider"}),He=y({...Ge,setup(_){const{browser:u}=H(),{app:h}=C();function n(){location.href="https://cool-js.com"}return(i,m)=>(d(),$("div",We,[a("div",{class:"app-slider__logo",onClick:n},[qe,!o(h).isFold||o(u).isMini?(d(),$("span",Ke,I(o(h).info.name),1)):P("",!0)]),a("div",Ue,[e(o(Oe))])]))}});const U=_=>(E("data-v-0156c82f"),_=_(),R(),_),Je={class:"app-process"},Ze=U(()=>a("span",null,"后退",-1)),Qe=U(()=>a("span",null,"首页",-1)),Xe=["data-index","onClick","onContextmenu"],Ye=y({name:"app-process"}),et=y({...Ye,setup(_){const{refs:u,setRefs:h,route:n,router:i}=M(),{process:m}=C();function p(){if(!m.list.find(s=>s.active)){const s=q(m.list);i.push(s?s.fullPath:"/")}}function t(r){u.scroller.scrollTo({left:r,behavior:"smooth"})}function l(r){const s=u[`item-${r}`];s&&t(s.offsetLeft+s.clientWidth-u.scroller.clientWidth)}function f(r,s){l(s),i.push(r.fullPath)}function c(r){m.remove(r),p()}function g(r,s){J.ContextMenu.open(r,{hover:{target:"app-process__item"},list:[{label:"关闭当前",hidden:s.fullPath!==n.path,callback(k){c(m.list.findIndex(T=>T.fullPath==s.fullPath)),k(),p()}},{label:"关闭其他",callback(k){m.set(m.list.filter(T=>T.fullPath==s.fullPath)),k(),p()}},{label:"关闭所有",callback(k){m.clear(),k(),p()}}]})}return j(()=>n.path,function(r){l(m.list.findIndex(s=>s.fullPath===r)||0)}),(r,s)=>{const k=v("el-icon"),T=v("el-scrollbar");return d(),$("div",Je,[a("div",{class:"app-process__icon",onClick:s[0]||(s[0]=(...w)=>o(i).back&&o(i).back(...w))},[e(k,null,{default:b(()=>[e(o(le))]),_:1}),Ze]),a("div",{class:F(["app-process__icon",{active:o(n).path=="/"}]),onClick:s[1]||(s[1]=w=>o(i).push("/"))},[e(k,null,{default:b(()=>[e(o(ce))]),_:1}),Qe],2),e(T,{ref:o(h)("scroller"),class:"app-process__scroller"},{default:b(()=>[(d(!0),$(V,null,z(o(m).list,(w,B)=>{var L;return d(),$("div",{key:B,ref_for:!0,ref:o(h)(`item-${B}`),class:F(["app-process__item",{active:w.active}]),"data-index":B,onClick:A=>f(w,Number(B)),onContextmenu:W(A=>g(A,w),["stop","prevent"])},[a("span",null,I(((L=w.meta)==null?void 0:L.label)||w.name||w.path),1),e(k,{onMousedown:W(A=>c(Number(B)),["stop"])},{default:b(()=>[e(o(re))]),_:2},1032,["onMousedown"])],42,Xe)}),128))]),_:1},512)])}}});const tt=S(et,[["__scopeId","data-v-0156c82f"]]),ot={class:"app-views"},nt=y({name:"app-views"}),st=y({...nt,setup(_){const{refs:u,setRefs:h,mitt:n}=M(),{process:i,app:m}=C(),p=D(()=>i.list.filter(l=>{var f;return(f=l.meta)==null?void 0:f.keepAlive}).map(l=>l.path.substring(1,l.path.length).replace(/\//g,"-")));function t({el:l,top:f}){const c=u.scrollbar.wrapRef;l&&(f=c.querySelector(l).offsetTop),c.scrollTo({top:f,behavior:"smooth"})}return n.on("view.scrollTo",t),(l,f)=>{const c=v("el-scrollbar"),g=v("router-view");return d(),$("div",ot,[e(g,null,{default:b(({Component:r})=>[e(c,{ref:o(h)("scrollbar")},{default:b(()=>[e(ae,{name:o(m).info.router.transition},{default:b(()=>[(d(),x(te,{include:o(p)},[(d(),x(ee(r)))],1032,["include"]))]),_:2},1032,["name"])]),_:2},1536)]),_:1})])}}});const at=S(st,[["__scopeId","data-v-ac8aa32c"]]),lt={class:"app-layout__left"},ct={class:"app-layout__right"},rt=y({name:"app-layout"}),_t=y({...rt,setup(_){const{app:u}=C();return(h,n)=>(d(),$("div",{class:F(["app-layout",{collapse:o(u).isFold}])},[a("div",{class:"app-layout__mask",onClick:n[0]||(n[0]=i=>o(u).fold(!0))}),a("div",lt,[e(He)]),a("div",ct,[e(Re),e(tt),e(at)])],2))}});const Ht=S(_t,[["__scopeId","data-v-f1087b9e"]]);export{Ht as default};
